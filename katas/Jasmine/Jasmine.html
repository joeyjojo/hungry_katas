<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=1024" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link href="../../lib/impress/impress.css" rel="stylesheet" />
  <link rel="shortcut icon" href="../../lib/impress/favicon.png" />
  <link rel="apple-touch-icon" href="../../lib/impress/favicon.png"/>

  <link rel=stylesheet href="../../lib/CodeMirror/lib/codemirror.css">
  <link rel="stylesheet" href="../../lib/CodeMirror/addon/fold/foldgutter.css">
  <link rel="stylesheet" href="../../lib/CodeMirror/addon/dialog/dialog.css">
  <script src="../../lib/CodeMirror/lib/codemirror.js"></script>
  <script src="../../lib/CodeMirror/addon/search/searchcursor.js"></script>
  <script src="../../lib/CodeMirror/addon/search/search.js"></script>
  <script src="../../lib/CodeMirror/addon/dialog/dialog.js"></script>
  <script src="../../lib/CodeMirror/addon/edit/matchbrackets.js"></script>
  <script src="../../lib/CodeMirror/addon/edit/closebrackets.js"></script>
  <script src="../../lib/CodeMirror/addon/comment/comment.js"></script>
  <script src="../../lib/CodeMirror/addon/wrap/hardwrap.js"></script>
  <script src="../../lib/CodeMirror/addon/fold/foldcode.js"></script>
  <script src="../../lib/CodeMirror/addon/fold/brace-fold.js"></script>
  <script src="../../lib/CodeMirror/mode/javascript/javascript.js"></script>
  <script src="../../lib/CodeMirror/keymap/sublime.js"></script>

  <style>
    .CodeMirror { height: auto; border: 1px solid #ddd; }
    .CodeMirror-scroll { max-height: 700px; min-height: 700px; }
    .CodeMirror pre { padding-left: 7px; line-height: 1.25; text-align: left;}
    .coder {
      padding-top: 100px;
      font-size: 12px;
      width: 200%;
      margin-left: -50%;
    }
    .tester {
      width: 200%;
      height: 400px;
      margin-left: -50%;
      padding-top: 20px;
    }
    h1 {
      font: 70px Tahoma, Helvetica, Arial, Sans-Serif;
      text-align: center;
      color: #222;
      text-shadow: 0px 2px 3px #555;
      padding-bottom: 20px;
      width: 150%;
      margin: 0 0 5% -30%;
    }
    p, pre {
      font: Tahoma, Helvetica, Arial, Sans-Serif;
      width: 200%;
      margin-left: -50%;
      text-align: center;
    }
  </style>
  <title>Avoiding Conditionals</title>
</head>
<body class="impress-not-supported">
  <div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
  </div>
  <div id="impress">
    <div id="title" class="step">
      <h1>Jasmine API</h1>
    </div>
    <div id="jasmine" class="step" data-x="2000">
      <h1>What Is Jasmine?</h1>
    </div>
    <div id="layout" class="step" data-x="2000" data-y="2000">
      <div class='coder'>
        <textarea id='code_layout'>
it('sets up tests like rspec with simple expects', function(){
  expect(1).toBe(1)
})
</textarea>
</div>
<iframe class='tester' id='spec_layout' src="JasmineSpec.html"></iframe>
</div>
    <div id="expects" class="step" data-y="2000">
      <div class='coder'>
        <textarea id='code_expects'>
it('sets up tests like rspec with simple expects', function(){
  expect(1).toBe(1)
})
</textarea>
</div>
<iframe class='tester' id='spec_expects' src="JasmineSpec.html"></iframe>
</div>
    <div id="spies" class="step" data-x="-2000" data-y="2000">
      <div class='coder'>
        <textarea id='code_spies'>
it('can spy on prototypes and create spies', function(){
  expect(2).toBe(2)
})
</textarea>
</div>
<iframe class='tester' id='spec_spies' src="JasmineSpec.html"></iframe>
</div>
    <div id="clock" class="step" data-x="-4000" data-y="2000">
      <div class='coder'>
        <textarea id='code_clock'>
it('can mock the clock', function(){
  expect(3).toBe(3)
})
</textarea>
</div>
<iframe class='tester' id='spec_clock' src="JasmineSpec.html"></iframe>
</div>
    <div id="matchers" class="step" data-x="-6000" data-y="2000">
      <div class='coder'>
        <textarea id='code_matchers'>
it('create unique and better matchers', function(){
  expect(4).toBe(4)
})
</textarea>
</div>
<iframe class='tester' id='spec_matchers' src="JasmineSpec.html"></iframe>
</div>
<div id="conclusion" class="step" data-x="-6000">
  <h1>Links and stuff for more content</h1>
</div>
</div>
</div>
</div>
<div class="hint">
  <p>Use F1 F2 keys to navigate (mac)</p>
</div>
<script>
  if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
  }
</script>
<script src="../../lib/impress/impress.js"></script>
<script>
  var impress = impress()
  impress.init()

  var slides = ['layout', 'expects', 'spies', 'clock', 'matchers']
  var editors = {}
  for(var s in slides) {
    var slide = slides[s]
    editors[slide] = CodeMirror.fromTextArea(document.getElementById('code_' + slide), {
      lineNumbers: true,
      mode: "javascript",
      matchBrackets: true,
      viewTo: 100
    })
    editors[slide].on('keyHandled', function(codeMirror, key){
      if(key === 'Ctrl-T') {
        runTests(editors[slide], slide)
      }
    })
  }

  function runTests(slide) {
    localStorage.setItem('tests', editors[slide].getValue())
    var jazzy = document.getElementById('spec_'+slide)
    jazzy.src = jazzy.src
  }

  function testOnSlideChange() {
    var slide = location.hash.split('/')[1]
    if(slides.indexOf(slide) !== -1)
      runTests(slide)
  }

  window.onhashchange = function() {
    testOnSlideChange()
  }

  CodeMirror.commands.transposeChars = function(){}
  
  localStorage.setItem('tests', '')
  testOnSlideChange()
</script>
</body>
</html>